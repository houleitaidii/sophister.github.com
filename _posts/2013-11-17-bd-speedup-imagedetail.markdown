---
layout: post
title: "优化图片检索中间页"
date: 2013-11-17 16:52:10
categories: 百度图片 javascript
---

去年的这个时候，还是忙的一塌糊涂，印象中搞了好几次夜里1点后打车回家。今年这个时候，却是没啥项目。自己找项目做了只有。看到我们[中间页]加载时间太慢，决定优化下。
首先是干掉多余的请求。去掉1个广告JS，去掉中间页老的suggestion文件，合并中间页检查设置壁纸功能的JS。中间页的suggestion功能，使用common模块的，这样就和结果页共用了common的JS和CSS，增加页面缓存的文件。
然后，网盟广告以前是在页面里同步加载的，会直接阻塞我们页面JS初始化，现在统一改到页面最底部，异步方式载入广告。韩总
上周四的时候，上面两步已经完成，页面load时间比原来缩短20%以上，用户可操作时间，比原来缩短300ms左右。
